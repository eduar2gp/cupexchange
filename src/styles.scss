@use '@angular/material' as mat;

// Apply base theme to <html > (supports system preference via 'light dark')
html {
  color-scheme: light dark;

  @include mat.theme(( color: ( primary: mat.$violet-palette, // Modern primary (close to indigo)
  tertiary: mat.$magenta-palette, // Modern accent (close to pink)
  ), typography: Roboto, density: 0 ));
}

// Optional: Force explicit dark overrides if needed (but color-scheme handles most)
.dark-theme {
  color-scheme: dark;
}

:root {
  /* ===========================
     Light Theme (Modern Soft)
     =========================== */
  /* Surfaces */
  --color-background: #f6f8fa; /* App background */
  --color-surface: #ffffff; /* Cards, panels */
  --color-surface-elevated: #f0f3f6; /* Raised elements */
  /* Text */
  --color-text: #1f2328; /* Primary text */
  --color-text-secondary: #4b5563; /* Labels, descriptions */
  --color-text-muted: #6e7781; /* Metadata, hints */
  /* Brand & Actions */
  --color-primary: #0b4aa6;
  --color-primary-hover: #093a82;
  --color-success: #1f883d;
  --color-danger: #cf222e;
  --color-warning: #9a6700;
  --color-accent: #8250df;
  /* Lines */
  --color-border: #d8dee4;
  --color-divider: #eaeef2;
  --color-buy-base: var(--color-success, #1f883d);
  --color-sell-base: var(--color-danger, #cf222e);
  --color-buy-surface-light: color-mix(in srgb, var(--color-buy-base) 8%, var(--color-surface, #ffffff));
  --color-sell-surface-light: color-mix(in srgb, var(--color-sell-base) 8%, var(--color-surface, #ffffff));
  --color-buy-text-accent: var(--color-buy-base);
  --color-sell-text-accent: var(--color-sell-base);
  --bottom-toolbar-height: 64px;
  --border-radius: 12px;
  --transition: all 0.3s ease;
}


.dark-theme {
  /* ===========================
     Dark Theme (Elegant Contrast)
     =========================== */
  /* Surfaces */
  --color-background: #0d1117; /* App background */
  --color-surface: #161b22; /* Cards */
  --color-surface-elevated: #1f242c; /* Raised elements */
  /* Text */
  --color-text: #e6edf3; /* Primary text */
  --color-text-secondary: #b1bac4; /* Labels */
  --color-text-muted: #8b949e; /* Metadata */
  /* Brand & Actions */
  --color-primary: #58a6ff;
  --color-primary-hover: #79c0ff;
  --color-success: #3fb950;
  --color-danger: #f85149;
  --color-warning: #d29922;
  --color-accent: #bc8cff;
  /* Lines */
  --color-border: #30363d;
  --color-divider: #21262d;
  --color-buy-base: var(--color-success, #1f883d);
  --color-sell-base: var(--color-danger, #cf222e);
  --color-buy-surface-light: color-mix(in srgb, var(--color-buy-base) 8%, var(--color-surface, #ffffff));
  --color-sell-surface-light: color-mix(in srgb, var(--color-sell-base) 8%, var(--color-surface, #ffffff));
  --color-buy-text-accent: var(--color-buy-base);
  --color-sell-text-accent: var(--color-sell-base);
}



// === Global Styles ===
html, body {  
  overflow: hidden; /* CRITICAL: Hides the browser scrollbar */
  margin: 0;
  padding: 0;
  height: 100%;
  width: 100%;
  overflow-x: hidden;
  font-family: Roboto, "Helvetica Neue", sans-serif;
  background-color: var(--color-background);
  //color: var(--color-text);
  transition: background-color 0.3s ease, color 0.3s ease;
}

body {
  background: linear-gradient( 135deg, var(--color-background) 0%, color-mix(in srgb, var(--color-background) 92%, black) 50%, var(--color-background) 100% );
  position: relative;
  overflow-x: hidden;
}

// Animated radial glow
body::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(circle at 30% 20%, rgba(9, 105, 218, 0.05) 0%, transparent 60%);
  pointer-events: none;
  z-index: -1;
  animation: float 30s ease-in-out infinite;
}

.dark-theme body::before {
  background: radial-gradient(circle at 30% 20%, rgba(88, 166, 255, 0.15) 0%, transparent 50%);
  animation: float 25s ease-in-out infinite;
}

@keyframes float {
  0% {
    transform: translate(0, 0) scale(1);
  }

  50% {
    transform: translate(30px, 20px) scale(1.05);
  }

  100% {
    transform: translate(0, 0) scale(1);
  }
}


.success-snackbar {
  background-color: #4caf50;
  color: white;
}

.warning-snackbar {
  background-color: #ff9800;
  color: white;
}

.error-snackbar {
  background-color: #f44336;
  color: white;
}


// Fixed top toolbar
.app-toolbar.fixed-top {
  flex: 0 0 auto; // Don't grow/shrink
  z-index: 10; // Above content
}

// Scrollable main content (grows to fill available space)
.main-content {
  flex: 1 1 auto;
  overflow-y: auto; // Only this scrolls
  padding: 16px; // Optional: add some breathing room
}

// Fixed bottom navigation
.bottom-nav.fixed-bottom {
  flex: 0 0 auto; // Don't grow/shrink
  z-index: 10; // Above content
}

// Optional: adjust toolbar heights for mobile (Material toolbars auto-adjust, but you can force if needed)
mat-toolbar {
  min-height: 65px; // Mobile-friendly height
}

// Ensure fullscreen works properly
mat-sidenav-container[fullscreen] {
  height: 100vh;
  width: 100vw;
}

mat-form-field {
  color: var(--color-text);
  border: none;
  box-shadow: none;
}

/* mat-option: flex row, align items */
.mat-mdc-option {
  display: flex !important;
  align-items: center;
  padding-right: 12px; /* space for checkbox */
  //box-sizing: border-box;
}

/* Wrap your content (icons + text) and make it take remaining space */
.mat-mdc-option .pair-option-content {
  display: flex;
  align-items: center;
  gap: 8px;
  flex: 1 1 auto; /* take remaining space */
  min-width: 0; /* allow truncation instead of overflow */
}

/* Pseudo-checkbox naturally at the right now */
.mat-mdc-option .mat-mdc-option-pseudo-checkbox {
  flex-shrink: 0; /* prevent shrinking */
  margin-left: 8px; /* small gap from content */
}
