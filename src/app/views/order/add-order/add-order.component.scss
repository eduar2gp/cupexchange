/* --- GLOBAL PAGE RESET --- */
:host {
  display: block;
  width: 100%;
}

.trade-page, .trade-page * {
  box-sizing: border-box; // Ensures padding doesn't add to width
}

.trade-page {
  display: flex;
  flex-direction: column;
  width: 100%;
  min-height: 50vh;
  background: var(--color-background);
  padding: 0.25rem;
  gap: 8px;
  overflow-x: hidden; // Prevents page-level horizontal scroll
}

/* --- SIDE-BY-SIDE LAYOUT (512px+) --- */
@media (min-width: 480px) {
  .trade-page {
    flex-direction: row !important;
    flex-wrap: nowrap !important;
    align-items: flex-start;
  }

  .trade-card {
    flex: 0 0 calc(62% - 4px) !important;
    max-width: calc(62% - 4px) !important;
  }

  .side-div {
    flex: 0 0 calc(38% - 4px) !important;
    max-width: calc(38% - 4px) !important;
  }
}

/* --- TRADE CARD --- */
.trade-card {
  width: 100%;
  padding: 0.75rem;
  border-radius: 1rem;
  background: var(--color-surface-elevated);
  border: 1px solid var(--color-border);
  overflow: hidden; // Prevents internal form elements from leaking out

  ::ng-deep {
    .mat-mdc-form-field {
      width: 100% !important;
    }
    /* Removes the default Material padding that often causes overflow */
    .mat-mdc-text-field-wrapper {
      width: 100% !important;
      padding-left: 0 !important;
      padding-right: 0 !important;
    }
  }
}

/* --- FORM & SLIDER FIXES --- */
.trade-form {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  width: 100%;
  overflow-x: hidden; // Extra safety for the form container
}

.price-slider {
  width: 100%;
  margin: 0.5rem 0;

  label {
    font-size: 0.85rem;
    font-weight: 600;
    margin-bottom: 4px;
    display: block;
  }

  .slider-wrapper {
    width: 100%;
    /* üõ†Ô∏è FIX: Padding on the left/right prevents the thumb marker from being chopped */
    padding: 0 12px;

    mat-slider {
      width: 100% !important;
      margin: 0 !important;

      ::ng-deep .mdc-slider {
        /* Ensure the internal track respects the parent width */
        width: 100% !important;
        min-width: 100% !important;
      }
      /* Target the thumb to ensure it stays within bounds */
      ::ng-deep .mdc-slider__thumb {
        z-index: 2;
      }
    }
  }
}

/* --- BUTTONS & OTHER --- */
.submit-btn {
  width: 100%;
  padding: 0.8rem;
  border-radius: 0.75rem;
  font-weight: 700;
  text-transform: uppercase;
  border: none;
  /* Ensure button doesn't overflow */
  max-width: 100%;
}

.submit-buy {
  background: var(--color-success) !important;
  color: white !important;
}

.submit-sell {
  background: var(--color-danger) !important;
  color: white !important;
}

.trade-pair {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 0.4rem;
  background-color: var(--color-surface);
  border-radius: 8px;
  font-size: 0.95rem;
}

.pair-icon {
  width: 2.0rem;
  height: 2.0rem;
  border-radius: 50%;
  display: block; /* removes inline spacing artifacts */
  object-fit: cover; /* preserve aspect ratio, crop to fill */
  object-position: center; /* center the image inside the box */
  aspect-ratio: 1 / 1; /* keep perfect square in supporting browsers */
  max-width: 100%;
  background-color: transparent;
}

.side-div {
  width: 100%;
  overflow: hidden;
}
